---
title: Cleaning data
---

::: {.callout-tip}
#### Learning objectives

- 
:::


## Context
Often data is in a messy state before you can work with it. So, it is useful to know when and how to make changes to your data.

## Section setup {#setup_grouped_operations}

::: {.callout-note collapse="true"}
## Click to expand

::: {.panel-tabset group="language"}
## R

We'll continue this section with the script named `r paste0(intToUtf8(96), sub("\\..*$", ".R", knitr::current_input()), intToUtf8(96))`. If needed, add the following code to the top of your script and run it.

```{r}
#| message: false
# A collection of R packages designed for data science
library(tidyverse)

surveys <- read_csv("data/surveys.csv")
plot_types <- read_csv("data/plots.csv")
```

## Python

We'll continue this section with the script named `r paste0(intToUtf8(96), sub("\\..*$", ".py", knitr::current_input()), intToUtf8(96))`. If needed, add the following code to the top of your script and run it.


```{python}
# A Python data analysis and manipulation tool
import pandas as pd

# Python equivalent of `ggplot2`
from plotnine import *

surveys = pd.read_csv("data/surveys.csv")
plot_types = pd.read_csv("data/plots.csv")
```

:::
:::

## Cleaning data

### Changing `plot_id`

In the example above we saw that it wasn't great practice to just use numbers to indicate `plot_id`, since they obviously have no numerical value.

It would be better to encode them in the format `plot_xxx` where `xxx` is a number with leading zeros (so that it sorts nicely).

We can do that as follows:

::: {.panel-tabset group="language"}
## R

```{r}
plot_types |> 
  mutate(plot_id = paste0("plot_", sprintf("%03d", plot_id)))
```

## Python

:::

Note: this means that you would also have to change the `plot_id` column values in the `surveys` data set, if you wanted to combine the data from these tables!


### Variable naming
LO: variable naming (janitor package)

### Encoding issues
LO: encoding issues

### Missing data
LO: dealing with missing data


## Summary

::: {.callout-tip}
#### Key points

- 
:::
